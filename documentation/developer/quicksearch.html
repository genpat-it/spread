<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Classes D3BaseTreeD3MSTree Global Global Global Type Definitions InitialData An object describing the tree. Either nodes and links or nwk or nexus are the only required properties,the rest will be set as default Type: Object Properties: Name Type Description nodes list A list of node names ['ST131','ST11'] links list A list of objects containing source,target and distance , where source and targets are indexes to the nodes list e.g. [{source:0,target:1,distance:10},...] nwk string A tree in newick format nexus string A tree in nexus format layout_algorithm string The initial algorithm to work out node positions. Can be either 'force' or 'greedy'. Default is 'greedy' layout_data LayoutData Data describing the layout. If none is supplied default values will be supplied and the specified algorithm will calculate the initial layout metadata object The metadata for the tree - see D3MSTree#addMetadata initial_category string The initial category to display in the tree - see D3MSTree#changeCategory LayoutData Type: Object Properties: Name Type Description node_positions object A dictionary of node id to an array of x,y co-ordinate e.g. {node_a:[23,76],node_b:[65,75]} node_links object a dictionary of the following max_link_length The maxiumum length of a link . Any link over this distance will be corrected to this length and displayed as dotted. max_link_scale Controls the length that each link is displayed. The links will be scaled (in pixels) between this value and 0 log_link_scale If true - link length will be altered to the power of 0.8. Default is false link_font_size The size in pixels of link labels. Default is 10 show_link_labels Determines whether the distance labels on links are present. Default is false hide_link_length All links over this length will not be displayed. Default is infinity base_node_size The base size of the nodes. Default is 10 show_node_labels Determines whether node labels are present. Default true node_font_size Controls the size (in pixels) of node labels. Default is 14 node_text_value The category to display on the node label. Default is none (node id is shown) size_power Controls the size of the nodes. Nodes, will have a radius which equal to number of items associated with the node to the power of size_power multiplied by base_node_size Default value is 0.5 show_individual_segments If true then every single component of the node will have its own 'wedge' even those in the same category (although they will be the same colour). Default is false. node_collapsed_value Nodes connecting by links with a distance equal or below this value will be collapsed. Default is 0 custom_colours A dictionary of categories to value/colour pairs e.g. {category1:{value_1:&quot;blue&quot;,value_2:&quot;red&quot;,..},&quot;category_2&quot;:{....},...} scale The scale factor (1.0 being normal size) translate The offset of the tree an array of x.y co-ordinate e.g. [30.-20] × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-01T10:03:07+01:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes D3BaseTreeD3MSTree Global Global Classes Classes D3BaseTree D3MSTree × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-01T10:03:07+01:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes D3BaseTreeD3MSTree Global Global D3MSTree (GrapeTree) For the Impatient × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-01T10:03:07+01:00 using the DocStrap template. "},"D3BaseTree.html":{"id":"D3BaseTree.html","title":"Class: D3BaseTree","body":" Documentation Classes D3BaseTreeD3MSTree Global Global Class: D3BaseTree D3BaseTree new D3BaseTree(element_id, metadata, height, width) The base class for trees Parameters: Name Type Description element_id string The id of the container for the tree metadata object (optional ) An object describing the trees metadata see D3BaseTree#addMetadata height integer the initial height. The container will be reisized to this height. If absent, the height of the container will be used width integer the initial width. The container will be reisized to this width If absent, the width of the container will be used Methods addMetadata(metadata) Adds metadata to the tree Parameters: Name Type Description metadata object An object containing id to a list of key value pairs.If there is a one to one relationship beteween the nodes and metadata, then the id should correspond to the node id e,g, { node_a:{year:&quot;1987&quot;,color:&quot;red&quot;}, node_b:{.....} ,.... } If a node reprsents several entities e.g.an ST has several strins, then an ID property is required, which is the ID of node e.g. { strain_a:{year:&quot;1988&quot;,virulence:&quot;high&quot;,ID:&quot;ST27&quot;}, strain_b:{year:&quot;1987&quot;,virulence:&quot;low&quot;,ID:&quot;ST27&quot;}, strain_c:{year:&quot;1989&quot;,virulence:&quot;medium&quot;,ID:&quot;ST28&quot;}, .... } If the id already exists, than new properties will be added or existing ones altered e.g. { strain_a:{year:&quot;1999&quot;,new_category:&quot;value1&quot;} } downloadSVG() Downloads the current tree in svg format getMetadata() Retreives metadata Returns: An object containing id to a list of key value pairs see D3BaseTree#addMetadata Type object resize() Resizes the tree components based on the size of the container This method is automtically called if the window is resized, but should be called if the container is resized manually searchMetadata(keyword) Searches the node names (ids) and all metadata values associated with the node for the keyword Parameters: Name Type Description keyword string The word to use for the search Returns: All the node ids where the keyword was found Type list setColour(category, value, colour) Sets the colour for a value in a category e.g. setColour(&quot;Country&quot;,&quot;France&quot;,&quot;blue&quot;) Parameters: Name Type Description category string The name of the field (category) value string The name of the value colour string The colour to set (usual fomration) setScale(scale, relative) Sets the scale (size of the tree) Parameters: Name Type Description scale float The scale to set e.g 2 relative boolean If true than the current scale will be multiplied by the scale parameter e.g 0.5,true would halve the current size of the tree setTranslate(scale) Sets the translate (offset of the tree) Parameters: Name Type Description scale array An array containing the x,y offsets eg [30,-100] showLegend(show) Hide/Show the menu Parameters: Name Type Description show boolean If true the menu will be shown × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-01T10:03:07+01:00 using the DocStrap template. "},"D3MSTree.html":{"id":"D3MSTree.html","title":"Class: D3MSTree","body":" Documentation Classes D3BaseTreeD3MSTree Global Global Class: D3MSTree D3MSTree new D3MSTree(element_id, data, callback, height, width) Parameters: Name Type Description element_id string The id of the container for the tree data InitialData An object containing the tree's data callback function The function to be called when the set up is finished (optional). The callback is passed the tree object and a message describing the state of initialisation. The message will be 'complete' when the tree is finished height integer the initial height (optional) width integer the initial width (optional) Extends D3BaseTree Methods addLinkClickedListener(func) Adds a listener to the link, which is called when the link is clicked Parameters: Name Type Description func function A callback which is called when a link is clicked The functions is supplied the link e.g. addLinkClickedListener(function(link){...}); addLinkOutListener(func) Adds a listener to the node, which is called when the mouse leaves the link Parameters: Name Type Description func function A callback which is called when the mouse leaves the link The functions is supplied the link e.g. addLinkOverListener(function(link){...}); addLinkOverListener(func) Adds a listener to the node, which is called when the mouse is over the link Parameters: Name Type Description func function A callback which is called when a link is mouse overed The functions is supplied the link e.g. addLinkOverListener(function(link){...}); addMetadata(metadata) Adds metadata to the tree Parameters: Name Type Description metadata object An object containing id to a list of key value pairs.If there is a one to one relationship beteween the nodes and metadata, then the id should correspond to the node id e,g, { node_a:{year:&quot;1987&quot;,color:&quot;red&quot;}, node_b:{.....} ,.... } If a node reprsents several entities e.g.an ST has several strins, then an ID property is required, which is the ID of node e.g. { strain_a:{year:&quot;1988&quot;,virulence:&quot;high&quot;,ID:&quot;ST27&quot;}, strain_b:{year:&quot;1987&quot;,virulence:&quot;low&quot;,ID:&quot;ST27&quot;}, strain_c:{year:&quot;1989&quot;,virulence:&quot;medium&quot;,ID:&quot;ST28&quot;}, .... } If the id already exists, than new properties will be added or existing ones altered e.g. { strain_a:{year:&quot;1999&quot;,new_category:&quot;value1&quot;} } Inherited From: D3BaseTree#addMetadata Overrides: D3BaseTree#addMetadata addNodeClickedListener(func) Adds a listener to the node, which is called when the node is clicked Parameters: Name Type Description func function A callback which is called when a node is clicked The functions is supplied the actual node and a list of IDs associated with the node e.g. addNodeClickedListener(function(node,ids){...}); addSegmentOutListener(func) Adds a listener to the node segment, which is called when the mouse leaves the segment Parameters: Name Type Description func function A callback which is called when the mouse leaves the segment The functions is supplied the segment e.g. addLinkOverListener(function(segment){...}); addSegmentOverListener(func) Adds a listener to the node segment, which is called when the mouse is over the segment Parameters: Name Type Description func function A callback which is called when a segment is mouse overed The functions is supplied the segment e.g. addLinkOverListener(function(segment){...}); alterCharge(amount) If nodes are unfixed (i.e. they are being positioned by the force algorithm) the supplied value specifies the repelling force between each node Parameters: Name Type Description amount number the repelling force between each node (or attraction if amount is posotive) changeCategory(category) Changes the category displayed Parameters: Name Type Description category string The category to display. If no category is given then the node IDs will be displayed collapseNodes(max_distance) Collapses the nodes in the tree. If any link between two nodes is less than or equal to max_distance, the nodes will be collapsed into one. Parameters: Name Type Description max_distance number All nodes equal or below this distance apart will be collapsed downloadSVG() Downloads the current tree in svg format Inherited From: D3BaseTree#downloadSVG fixAllNodes() This fixes all nodes and stops the 'force' algorithm from updating their position getLayout() Returns the data describing the current tree's layout Returns: layout _data Data describing the layout of the tree Type LayoutData getMetadata() Retreives metadata Inherited From: D3BaseTree#getMetadata Returns: An object containing id to a list of key value pairs see D3BaseTree#addMetadata Type object getSelectedIDs() Returns all the selected IDs of the selected node Returns: All the selected IDs, these may be the ids of the nodes or if the node is assocaited with items, the ID of all the items in the node Type list getTreeAsObject() Returns the tree as an object InitialData, suitiable for use in the trees constructor Returns: An object descibing the tree Type InitialData highlightIDs(IDs, color) All nodes which contain metadata that has ID in is the supplied list will have a large halo around them. Parameters: Name Type Description IDs list A list of IDs to higlight, the IDs will be either be the IDs of items associated with a node or the id of the node (if a one to one relationship) Even if only one ID is present in the node, then the whole node will be highlighted. color string The color of the halo (default yellow) highlightNodes(IDs, color) All nodes with the id in supplied list will have a large yellow halo around them. Parameters: Name Type Description IDs list A list of nodes IDs to higlight, color string The color of the halo (default yellow) resetLinkLengths() Resets all link lenghts to accurately reflect the original value. resize() Resizes the tree components based on the size of the container This method is automtically called if the window is resized, but should be called if the container is resized manually Inherited From: D3BaseTree#resize searchMetadata(keyword) Searches the node names (ids) and all metadata values associated with the node for the keyword Parameters: Name Type Description keyword string The word to use for the search Inherited From: D3BaseTree#searchMetadata Returns: All the node ids where the keyword was found Type list setColour(category, value, colour) Sets the colour for a value in a category e.g. setColour(&quot;Country&quot;,&quot;France&quot;,&quot;blue&quot;) Parameters: Name Type Description category string The name of the field (category) value string The name of the value colour string The colour to set (usual fomration) Inherited From: D3BaseTree#setColour setHideLinkLength(max_length) Hides all links which have a length above the value supplied Parameters: Name Type Description max_length number The length above which links will be hidden setIndividualLinkLength(link, length) Alters the length of the link to the supplied value Parameters: Name Type Description link object The link object to alter length number The new length of thr link setLayout(layout) Updates the tree with the supplied data. Any paramater not supplied will be default Parameters: Name Type Description layout LayoutData _data - An object describing the layout of the tree setLinkFontSize(The) Sets the font size of the links Parameters: Name Type Description The integer font size (in pixels) setLinkLength(max_length) Sets the relative length of the all links. Parameters: Name Type Description max_length integer This specifies length of longest link in pixels All other links will be scaled between this value and 1 setMaxLinkLength(amount) Sets the maximum length of any link. Any links over the value supplied will be reduced to the maximum length and displayed as dotted lines Parameters: Name Type Description amount number The maximum link length setNodeFontSize(node) Sets the size of node labels in pixels Parameters: Name Type Description node number label font size in pixels setNodeSize(node_size) Sets the base node size. The radius of the node is calculated by the log of the number of items represented by the node multipled by base node size Parameters: Name Type Description node_size number The base node size setNodeText(value) Sets the label to display on the node. Parameters: Name Type Description value string The name of a the category whose values will be displayed. if 'node_id' is given then the node id will be displayed. setRelativeNodeSize(factor) Sets the relative node size. Default is 0.5, The smaller the number, the smaller nodes will be that represent many items Parameters: Name Type Description factor number The size_power value used in node size calculation setScale(scale, relative) Sets the scale (size of the tree) Parameters: Name Type Description scale float The scale to set e.g 2 relative boolean If true than the current scale will be multiplied by the scale parameter e.g 0.5,true would halve the current size of the tree Inherited From: D3BaseTree#setScale setTranslate(scale) Sets the translate (offset of the tree) Parameters: Name Type Description scale array An array containing the x,y offsets eg [30,-100] Inherited From: D3BaseTree#setTranslate showIndividualSegments(true) If true each individual item in the node will have its own 'wedge' even if it is the same category (although it is the same colour). This useful to guage the size of the node, but if nodes represent 100's of items, will slow down the rendering of the tree Parameters: Name Type Description true boolean or false showLegend(show) Hide/Show the menu Parameters: Name Type Description show boolean If true the menu will be shown Inherited From: D3BaseTree#showLegend showLinkLabels(show) Determines whether to show distance labels on links Parameters: Name Type Description show boolean true or false showNodeLabels(show) Determines wheteher node labels will be present Parameters: Name Type Description show boolean Either true or false unfixSelectedNodes(all) This will cause all nodes to be acted upon by the 'force' algorithm and will alter their position. Nodes will spread out and link lengths may no longer be accurate Parameters: Name Type Description all boolean If true all nodes will be released, otherwise just the selected ones × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-01T10:03:07+01:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
